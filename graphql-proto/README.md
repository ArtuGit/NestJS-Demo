# NestJS GraphQL Mongoose Prototype

## Features

### GraphQL

- Apollo
- Playground
- Resolvers
- Entities, Queries, Mutations, Subscription 
- Autogenerated Schema, Code-first approach is used
- Directives, plugins, scalars. ToDo: Check.
- ToDo: Better arguments checking

### Mongoose / DB

- Repositories
- Schemas
- Indexes
- Virtual fields
- `<entityId>` fields, Mongo ObjectId format 
- Relationships, `populate` method can be used
-  `createdAt`, `updatedAt` fields, there they are needed
- ToDo: Pagination
- ToDo: Migrations

### Authentication

- Local authentication (based on login/password)
- JWT-based authentication

### Authorization

- Role-based authorization 
- Custom authorization with Guards (analog of SX UserAuthoriser)

### Security

- ToDo(quick): Helmet
- ToDo(quick): CORS
- ToDo(quick): CSRF Protection
- ToDo: Rate limiting

### Others

- ToDo(adopt from the Starter Kit): Config
- ToDo(adopt from the Starter Kit): Jobs
- ToDo: Cache
- ToDo: Bull Queues
- ToDo(adopt from the Starter Kit): Logs (basic)
- Utilities
- REPL (Read-Eval-Print-Loop), as dev tool


### NestJS

- Modules
- Providers
- DTOs
- Guards
- Decorators
- ToDo: Custom Interceptors, Pipes, Exception filters and others as POC or for features

### TypeScript

- Types
- Interfaces

### Demo

- Users with roles and auth
- Sessions. ToDo: Move to Mongo, now in Redis, create multi sessions for one user 
- Posts
- ToDo: Likes, with cache example

## Start / Stop

Install dependencies:
`npm install`

### Start

```
docker compose start
npm run start:dev
```

Go to http://localhost:3010/graphql

### Stop

Finish Docker
`docker compose stop`
